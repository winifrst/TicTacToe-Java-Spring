# Привет

Сегодняшняя цель - научиться создавать веб-приложение на языке **Java** с использованием Spring. 

**Веб-приложение** – это клиент-серверное приложение, в котором клиент взаимодействует с веб-сервером при помощи браузера. Логика веб-приложения распределена между сервером и клиентом, хранение данных осуществляется, преимущественно, на сервере, обмен информацией происходит по сети.

**Spring** - один из самых популярных фреймворков для создания веб-приложений на Java. Преимущества **Spring**:

- Инверсия управления (IoC) и внедрение зависимостей (Dependency Injection, DI): Spring предоставляет механизмы IoC и DI, которые позволяют управлять зависимостями между компонентами приложения. Благодаря этим механизмам код становится более модульным, уменьшается связанность и улучшается тестируемость приложения.

- Модульность: Spring состоит из различных модулей, таких как Spring Core, Spring MVC, Spring Security, Spring Data и другие. Они позволяют разработчикам выбирать только необходимое для их приложений, что способствует легкости и гибкости разработки.

- Поддержка аспектно-ориентированного программирования (Aspect-Oriented Programming, AOP): Spring предоставляет возможности для работы с аспектами, что позволяет выносить кросс-режимные функции (например, логирование, транзакции) из основной логики приложения, улучшая его модульность и управляемость.

- Поддержка транзакций: Spring обеспечивает поддержку декларативного управления транзакциями, что позволяет управлять транзакциями без прямых вызовов API уровня доступа к данным.

- Удобство тестирования: Благодаря DI и IoC, приложения, построенные с использованием Spring, легче тестируются, поскольку зависимости могут быть легко заменены на фиктивные объекты (mock objects) для упрощения модульного тестирования.

- Поддержка различных типов приложений: Spring предоставляет возможности для разработки широкого спектра приложений, включая веб-приложения (Spring MVC), RESTful API (Spring WebFlux), микросервисы, обработку данных, интеграцию с базами данных и многое другое.


# Темы
- веб-приложение;
- Spring;
- API;
- алгоритм "Минимакс";
- MVC.

# Проект: Крестики-Нолики
Рассматриваются основы построения веб-приложений и использование фреймворка Spring.

# Задачи

Проект создаётся один раз и используется для всех последующих заданий.

### Задание 0. Создание проекта
В IntelliJ Idea создайте новый проект: 
- Выберите язык Java
- Выберите систему сборки Gradle
- Выберите JDK 18, если такого нет, то загрузите любой JDK 18 версии
- Выберите для Gradle DSL - Kotlin

### Задание 1. Создать структуру проекта
- Каждый слой является отдельным пакетом.
- Структура проекта должна иметь следующие слои: web, domain, datasource, di.
- Слой web должен включать в себя как минимум пакеты model, controller, mapper для взаимодействия с клиентом.
- Слой domain должен включать в себя как минимум пакеты model, service для реализации бизнес-логики приложения.
- Слой datasource должен включать в себя как минимум пакеты model, repository, mapper для реализации работы с данными (например, с базой данных).
- В слое di описываются конфигурации для внедрения зависимостей.

### Задание 2. Реализовать domain слой
- Описать модель игрового поля в виде целочисленной матрицы.
- Описать модель текущей игры, у которой есть UUID и игровое поле.
- Описать интерфейс сервиса, у которого есть следующие методы:
    - Метод получения следующего хода текущей игры алгоритмом Минимакс.
    - Метод валидации игрового поля текущей игры (проверить, что не изменены предыдущие ходы).
    - Метод проверки окончания игры
- Модели, интерфейсы, реализации должны находиться в разных файлах.

### Задание 3. Реализовать datasource слой
- Реализовать класс-хранилище для хранения текущих игр.
- В качестве средства хранения использовать потокобезопасные коллекции.
- Описать модели игрового поля, текущей игры.
- Реализовать мапперы domain<->datasource.
- Реализовать репозиторий для работы с классом-хранилищем, у которого есть следующие методы:
    - Метод сохранения текущей игры.
    - Метод получения текущей игры.
- Создать класс, реализующий интерфейс сервиса и принимающий в качестве параметра репозиторий для работы с классом-хранилищем.
- Модели, интерфейсы, реализации должны находиться в разных файлах.

### Задание 4. Реализовать web слой
- Описать модели игрового поля, текущей игры.
- Реализовать мапперы domain<->web.
- Реализовать контроллер с использованием Spring, имеющий метод POST /game/{UUID текущей игры}, который отправляет текущую игру с обновленным игровым полем пользователем и получает в ответ текущую игру с обновленным игровым полем компьютером.
- Если отправлена некорректная текущая игра с обновленным полем, должна вернуться ошибка с описанием.
- Должна быть поддержка нескольких игр одновременно.
- Модели, интерфейсы, реализации должны находиться в разных файлах.

### Задание 5. Реализовать di слой
- Реализовать класс Spring Configuration, в котором описывается граф зависимостей. 
- Он должен содержать как минимум: 
   - Класс-хранилище в качестве singleton.
   - Репозиторий для работы с классом-хранилищем.
   - Сервис для работы с репозиторием.
