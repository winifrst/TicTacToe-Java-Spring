# Tic-Tac-Toe

## Архитектура проекта

Проект разделён на логические слои. Каждый слой находится в отдельном пакете и отвечает только за свою зону ответственности.  

### 1. Web слой (`web`)  
Отвечает за взаимодействие с клиентом.  

- `controller` - принимает HTTP-запросы, вызывает сервисы, возвращает ответы:  
  - AuthController.java    - Контроллер для регистрации/авторизации
  - GameController.java    - Контроллер для игры 
- `model` - модели запросов и ответов (DTO):  
  - AuthResponse.java      - DTO для ответов авторизации
  - GameRequest.java       - DTO для запроса игры 
  - GameResponse.java      - DTO для ответа игры 
  - SignUpRequest.java     - DTO для запроса регистрации
- `mapper` - преобразование web-моделей в доменные и обратно:  
  - WebGameMapper.java
- `filter` - валидация входящих запросов:
  - AuthFilter.java

**Web слой не содержит бизнес-логики и не знает, как хранятся данные.**

---

### 2. Domain слой (`domain`)
Содержит бизнес-логику приложения.

- `model` - доменные модели (игра, игровое поле, статус игры)
  -  User.java              - Модель пользователя в бизнес-логике
  -  Game.java              - Модель игры (уже есть)
  -  GameStatus.java        - Статус игры (уже есть)
- `service` - интерфейсы и реализации бизнес-логики (валидация, ход компьютера, проверка окончания игры)
  - UserService.java       - Интерфейс для работы с пользователями
  - GameService.java       - Интерфейс для игры (уже есть)
  - AuthService.java       - Логика аутентификации и авторизации

**Domain слой не зависит от web и datasource слоёв.**  

---

### 3. Datasource слой (`datasource`)
Отвечает за хранение данных.

- `model` - модели хранения (entity)
  - UserEntity.java        - Сущность пользователя для JPA/Hibernate
  - GameEntity.java        - Сущность игры (уже есть)
- `repository` - интерфейсы доступа к хранилищу
  - UserRepository.java    - Репозиторий для работы с пользователями в БД
  - GameRepository.java    - Репозиторий для игр (уже есть)
- `mapper` - преобразование между domain и datasource моделями
  - GameMapper.java        - Маппер между Game и GameEntity (уже есть)
  - UserMapper.java        - Маппер между User и UserEntity

**Datasource слой не зависит от web и domain слоёв.**  
В текущей реализации используется POSTGRES БД хранилище.

---

### 4. DI слой (`di`)
Отвечает за конфигурацию зависимостей.

- определяет, какие реализации используются
- связывает repository, service и другие компоненты
- управляется Spring-контейнером

---

## Поток данных в приложении

Клиент  
|  
V  
Веб (контроллер)  
|
V
Domain (сервис)   
|
V
Datasource (репозиторий)  
|
V
Storage  

### Запуск приложения
`cd src`
`./gradlew bootRun`

Приложение будет доступно по адресу: [http://localhost:8080](http://localhost:8080)  
